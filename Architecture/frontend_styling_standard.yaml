version: "1.0.0"
purpose: "Define authoritative standards for frontend styling architecture"

overview: |
  Aether frontend uses a centralized design token system based on CSS custom properties.
  All styling must follow the cascading architecture: theme → components → windows.
  NO hardcoded colors, sizes, or values allowed in window-specific stylesheets.

architecture:
  layers:
    - name: "theme.css"
      purpose: "Design tokens and global variables"
      location: "aether-frontend/src/renderer/shared/styles/theme.css"
      responsibilities:
        - "Define CSS custom properties for all design tokens"
        - "Color palette (backgrounds, text, borders, semantic, state)"
        - "Typography scale (font families, sizes, weights, line heights)"
        - "Spacing scale (consistent spacing system)"
        - "Border radius values"
        - "Shadows and elevation"
        - "Transitions and animations"
        - "Z-index layers"
        - "Breakpoints"
      rules:
        - "All values MUST be CSS custom properties (--variable-name)"
        - "Support dark mode (default) and light mode themes"
        - "NO component-specific styles in this file"
        - "NO window-specific styles in this file"
    
    - name: "components.css"
      purpose: "Reusable component styles"
      location: "aether-frontend/src/renderer/shared/styles/components.css"
      responsibilities:
        - "Define reusable component classes (.btn, .input, .card, etc.)"
        - "Use ONLY theme variables for all values"
        - "Component variants (sizes, states, types)"
      rules:
        - "MUST use var(--variable-name) for ALL property values"
        - "NO hardcoded colors, sizes, or magic numbers"
        - "Components MUST be window-agnostic"
        - "Follow BEM-like naming for variants"
    
    - name: "index.css"
      purpose: "Orchestrator stylesheet"
      location: "aether-frontend/src/renderer/shared/styles/index.css"
      responsibilities:
        - "Import theme.css and components.css in correct order"
      rules:
        - "ONLY contains @import statements"
        - "NO additional styles"
    
    - name: "window-specific.css"
      purpose: "Window-specific layout and structure"
      location: "aether-frontend/src/renderer/{window}/styles/{window}.css"
      examples:
        - "main.css"
        - "chat.css"
        - "artifacts.css"
      responsibilities:
        - "Define window-specific layout and positioning"
        - "Use component classes from components.css"
        - "Override ONLY when absolutely necessary"
      rules:
        - "MUST use var(--variable-name) for ALL values"
        - "NO hardcoded colors (rgba(X, Y, Z, A) forbidden)"
        - "NO hardcoded sizes (use theme spacing scale)"
        - "Prefer composition over custom styles"
        - "Document any overrides with comments explaining why"

design_tokens:
  color_system:
    palette_structure:
      backgrounds:
        - "--color-bg-primary: Primary window background"
        - "--color-bg-secondary: Secondary surface background"
        - "--color-bg-tertiary: Tertiary surface background"
        - "--color-bg-elevated: Elevated/modal backgrounds"
        - "--color-bg-overlay: Overlay with transparency"
      
      surfaces:
        - "--color-surface-base: Base surface (buttons, cards)"
        - "--color-surface-hover: Hover state"
        - "--color-surface-active: Active/selected state"
      
      text:
        - "--color-text-primary: Primary text (high contrast)"
        - "--color-text-secondary: Secondary text (medium contrast)"
        - "--color-text-tertiary: Tertiary text (low contrast)"
        - "--color-text-disabled: Disabled state text"
        - "--color-text-inverse: Inverse text (light on dark / dark on light)"
      
      borders:
        - "--color-border-base: Base border color"
        - "--color-border-strong: Strong border (emphasized)"
        - "--color-border-hover: Hover state border"
        - "--color-border-focus: Focus state border"
      
      semantic:
        - "--color-success: Success state"
        - "--color-success-bg: Success background"
        - "--color-success-border: Success border"
        - "--color-warning: Warning state"
        - "--color-warning-bg: Warning background"
        - "--color-warning-border: Warning border"
        - "--color-error: Error state"
        - "--color-error-bg: Error background"
        - "--color-error-border: Error border"
        - "--color-info: Info state"
        - "--color-info-bg: Info background"
        - "--color-info-border: Info border"
      
      brand:
        - "--color-primary: Primary brand color"
        - "--color-primary-light: Light variant"
        - "--color-primary-dark: Dark variant"
        - "--color-primary-alpha: Transparent variant"
    
    rules:
      - "NEVER use hex colors or rgba() directly in window CSS"
      - "ALWAYS reference theme variables"
      - "Use semantic colors for states (success, error, etc.)"
      - "Use brand colors sparingly for accents"
  
  typography:
    scale:
      - "--font-size-xs: 0.75rem (12px)"
      - "--font-size-sm: 0.875rem (14px)"
      - "--font-size-base: 1rem (16px)"
      - "--font-size-lg: 1.125rem (18px)"
      - "--font-size-xl: 1.25rem (20px)"
      - "--font-size-2xl: 1.5rem (24px)"
      - "--font-size-3xl: 1.875rem (30px)"
      - "--font-size-4xl: 2.25rem (36px)"
    
    families:
      - "--font-family-base: System sans-serif stack"
      - "--font-family-mono: Monospace stack"
    
    weights:
      - "--font-weight-normal: 400"
      - "--font-weight-medium: 500"
      - "--font-weight-semibold: 600"
      - "--font-weight-bold: 700"
    
    line_heights:
      - "--line-height-tight: 1.25"
      - "--line-height-normal: 1.5"
      - "--line-height-relaxed: 1.75"
  
  spacing:
    scale:
      - "--spacing-xs: 0.25rem (4px)"
      - "--spacing-sm: 0.5rem (8px)"
      - "--spacing-md: 1rem (16px)"
      - "--spacing-lg: 1.5rem (24px)"
      - "--spacing-xl: 2rem (32px)"
      - "--spacing-2xl: 3rem (48px)"
      - "--spacing-3xl: 4rem (64px)"
    
    rules:
      - "Use spacing scale for padding, margin, gap"
      - "NO arbitrary pixel values (e.g., padding: 17px)"
      - "Prefer spacing variables for consistency"
  
  radius:
    scale:
      - "--radius-sm: 0.375rem (6px)"
      - "--radius-md: 0.5rem (8px)"
      - "--radius-lg: 0.75rem (12px)"
      - "--radius-xl: 1rem (16px)"
      - "--radius-2xl: 1.25rem (20px)"
      - "--radius-full: 9999px (circle)"
  
  shadows:
    elevation:
      - "--shadow-sm: Subtle elevation"
      - "--shadow-base: Base elevation"
      - "--shadow-md: Medium elevation"
      - "--shadow-lg: Large elevation"
      - "--shadow-xl: Extra large elevation"
      - "--shadow-2xl: Maximum elevation"
      - "--shadow-glow: Glow effect"
  
  transitions:
    timing:
      - "--transition-fast: 0.1s ease"
      - "--transition-base: 0.2s ease"
      - "--transition-slow: 0.3s ease"
      - "--transition-slowest: 0.5s ease"
    
    easing:
      - "--transition-spring: cubic-bezier(0.34, 1.56, 0.64, 1)"
      - "--transition-smooth: cubic-bezier(0.4, 0, 0.2, 1)"
      - "--transition-sharp: cubic-bezier(0.4, 0, 0.6, 1)"

consistency_rules:
  forbidden_patterns:
    - pattern: "rgba(X, Y, Z, A)"
      reason: "Hardcoded colors break theming"
      alternative: "Use --color-* variables"
    
    - pattern: "padding: 17px"
      reason: "Arbitrary values break spacing consistency"
      alternative: "Use --spacing-* variables"
    
    - pattern: "background: #0a0a0a"
      reason: "Hardcoded hex colors break theming"
      alternative: "Use --color-bg-* variables"
    
    - pattern: "border-radius: 14px"
      reason: "Arbitrary radius breaks consistency"
      alternative: "Use --radius-* variables"
    
    - pattern: "box-shadow: 0 4px 15px rgba(0, 0, 0, 0.4)"
      reason: "Custom shadows break elevation system"
      alternative: "Use --shadow-* variables"
  
  required_patterns:
    - pattern: "var(--color-bg-primary)"
      usage: "All color references"
    
    - pattern: "var(--spacing-md)"
      usage: "All spacing (padding, margin, gap)"
    
    - pattern: "var(--font-size-sm)"
      usage: "All font sizes"
    
    - pattern: "var(--transition-base)"
      usage: "All transitions"

file_structure:
  import_order:
    - "theme.css (FIRST)"
    - "components.css (SECOND)"
    - "window-specific.css (THIRD)"
  
  documentation:
    header_required: true
    format: |
      /**
       * @.architecture
       * 
       * Incoming: [source] --- {[types]}
       * Processing: [operations] --- {[jobs]}
       * Outgoing: [destination] --- {[types]}
       * 
       * @module [path]
       */

validation:
  automated_checks:
    - "Grep for rgba() patterns in window CSS"
    - "Grep for hex color patterns in window CSS"
    - "Grep for hardcoded pixel values not using variables"
    - "Verify all theme variables are defined"
  
  manual_review:
    - "Visual consistency across all windows"
    - "Dark mode / light mode switching works"
    - "Hover states are consistent"
    - "Focus states are accessible"

maintenance:
  adding_new_colors:
    - "Add to theme.css :root block"
    - "Add light mode override if needed"
    - "Document in this file"
    - "Update all relevant windows to use new variable"
  
  adding_new_components:
    - "Add to components.css"
    - "Use ONLY theme variables"
    - "Create variants as needed"
    - "Test in all windows"
  
  modifying_windows:
    - "Use existing component classes first"
    - "Reference theme variables for custom styles"
    - "Document any necessary overrides"
    - "Maintain consistency with other windows"

examples:
  correct:
    - |
      /* ✓ CORRECT - Using theme variables */
      .my-button {
        background: var(--color-surface-base);
        border: 1px solid var(--color-border-base);
        border-radius: var(--radius-lg);
        padding: var(--spacing-sm) var(--spacing-md);
        color: var(--color-text-primary);
        transition: all var(--transition-base);
      }
      
      .my-button:hover {
        background: var(--color-surface-hover);
        border-color: var(--color-border-strong);
      }
  
  incorrect:
    - |
      /* ✗ INCORRECT - Hardcoded values */
      .my-button {
        background: rgba(30, 30, 30, 0.9);
        border: 1px solid rgba(255, 255, 255, 0.1);
        border-radius: 12px;
        padding: 10px 18px;
        color: #ffffff;
        transition: all 0.2s ease;
      }
      
      .my-button:hover {
        background: rgba(60, 60, 60, 0.9);
        border-color: rgba(255, 255, 255, 0.3);
      }

compliance:
  enforcement: "strict"
  rejection_policy: "Non-conforming submissions are rejected"
  review_checklist:
    - "No hardcoded colors (rgba, hex)"
    - "No arbitrary spacing values"
    - "All theme variables used correctly"
    - "Component classes reused where possible"
    - "Documentation header present"
    - "Consistent with other windows"

