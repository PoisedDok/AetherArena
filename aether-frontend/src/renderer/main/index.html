<!--
  @.architecture
  
  Incoming: Electron BrowserWindow creation (main/windows/WindowManager.js) --- {window_types.main, BrowserWindow}
  Processing: Define HTML structure, load stylesheets, render UI elements (canvas, unified stats panel, slide-in control menu, settings modal), load bundled renderer script --- {3 jobs: JOB_CREATE_DOM_ELEMENT, JOB_INITIALIZE, JOB_RENDER_MARKDOWN}
  Outgoing: DOM tree rendered to main window, script execution → build/renderer/main.js --- {html_types.document, Document}
  
  @module renderer/main/index.html
-->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    <title>Aether</title>
    
    <link rel="stylesheet" href="../shared/styles/index.css" />
    <link rel="stylesheet" href="styles/main.css" />
</head>
<body>
    <canvas id="scene-canvas"></canvas>
    
    <div id="root">
        <div class="widget-container" style="display: none;"></div>
        <div class="normal-container">
            
            <!-- Menu Trigger Button -->
            <button class="menu-trigger" id="menu-trigger" title="Menu">
                <span class="menu-icon">
                    <span></span>
                    <span></span>
                    <span></span>
                </span>
            </button>

            <!-- Slide-in Control Panel -->
            <div class="control-panel" id="control-panel">
                <div class="control-panel-header">
                    <span class="control-panel-title">Controls</span>
                </div>
                
                <div class="control-panel-content">
                    <!-- Voice Control -->
                    <div class="control-item" id="mic-button">
                        <div class="control-icon">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z"></path>
                                <path d="M19 10v2a7 7 0 0 1-14 0v-2"></path>
                                <line x1="12" y1="19" x2="12" y2="23"></line>
                                <line x1="8" y1="23" x2="16" y2="23"></line>
                            </svg>
                        </div>
                        <div class="control-info">
                            <span class="control-label">Voice Input</span>
                            <span class="control-hint">Press and hold</span>
                        </div>
                        <div class="control-status" id="mic-status-indicator"></div>
                    </div>

                    <!-- Chat Window -->
                    <div class="control-item" id="chat-toggle">
                        <div class="control-icon">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>
                            </svg>
                        </div>
                        <div class="control-info">
                            <span class="control-label">Chat</span>
                            <span class="control-hint">Open chat window</span>
                        </div>
                    </div>

                    <!-- Artifacts -->
                    <div class="control-item" id="code-panel-toggle">
                        <div class="control-icon">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <polyline points="16 18 22 12 16 6"></polyline>
                                <polyline points="8 6 2 12 8 18"></polyline>
                            </svg>
                        </div>
                        <div class="control-info">
                            <span class="control-label">Artifacts</span>
                            <span class="control-hint">View code artifacts</span>
                        </div>
                    </div>

                    <!-- Settings -->
                    <div class="control-item" id="settings-button">
                        <div class="control-icon">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <circle cx="12" cy="12" r="3"></circle>
                                <path d="M12 1v6m0 6v6M1 12h6m6 0h6"></path>
                                <path d="m4.93 4.93 4.24 4.24m5.66 0 4.24-4.24m0 14.14-4.24-4.24m-5.66 0-4.24 4.24"></path>
                            </svg>
                        </div>
                        <div class="control-info">
                            <span class="control-label">Settings</span>
                            <span class="control-hint">Configure Aether</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Unified Stats Panel -->
            <div class="stats-panel" id="stats-panel">
                <div class="stats-row">
                    <div class="stat-item">
                        <span class="stat-label">CPU</span>
                        <span class="stat-value" id="cpu-usage">0%</span>
                    </div>
                    
                    <div class="stat-item">
                        <span class="stat-label">MEMORY</span>
                        <span class="stat-value" id="memory-usage">0 MB</span>
                    </div>
                    
                    <div class="stat-item">
                        <span class="stat-label">FPS</span>
                        <span class="stat-value" id="fps-counter">60</span>
                    </div>
                    
                    <div class="stats-divider"></div>
                    
                    <div class="stat-item">
                        <span class="stat-label">AUDIO</span>
                        <span class="stat-value" id="mic-percentage">0%</span>
                    </div>
                    
                    <div class="stat-item">
                        <span class="stat-label">STATUS</span>
                        <span class="stat-value status-badge" id="system-status">IDLE</span>
                    </div>
                    
                    <div class="stats-divider"></div>
                    
                    <div class="stat-item model-stat">
                        <div class="model-status-dot" id="model-status-dot"></div>
                        <span class="stat-label">MODEL</span>
                        <span class="stat-value" id="model-name">loading...</span>
                    </div>
                    
                    <div class="stat-item">
                        <span class="stat-label">LATENCY</span>
                        <span class="stat-value" id="network-latency">--</span>
                    </div>
                    
                    <div class="stat-item">
                        <span class="stat-label">NODES</span>
                        <span class="stat-value" id="node-count">--</span>
                    </div>
                    
                    <div class="stats-divider"></div>
                    
                    <div class="stat-item">
                        <span class="stat-label">TIME</span>
                        <span class="stat-value" id="system-time">00:00:00</span>
                    </div>
                </div>
            </div>

            <!-- Settings Modal -->
            <div class="settings-modal hidden" id="settings-modal">
                <div class="settings-panel">
                    <div class="settings-header">
                        <div class="settings-title">
                            <i class="fas fa-cog"></i>
                            Settings
                        </div>
                        <div class="settings-actions">
                            <span id="settings-status" class="settings-status-text"></span>
                            <button id="settings-cancel" class="btn-secondary">
                                <i class="fas fa-times"></i>
                                Cancel
                            </button>
                            <button id="settings-save" class="btn-primary">
                                <i class="fas fa-save"></i>
                                Save Changes
                            </button>
                        </div>
                    </div>
                    
                    <div class="settings-body">
                        <div class="settings-sidebar">
                            <div class="settings-tabs">
                                <div class="settings-tab active" data-tab="assistant">
                                    <i class="fas fa-robot"></i>
                                    <span>Assistant</span>
                                </div>
                                <div class="settings-tab" data-tab="connections">
                                    <i class="fas fa-network-wired"></i>
                                    <span>Connections</span>
                                </div>
                                <div class="settings-tab" data-tab="documents">
                                    <i class="fas fa-file-alt"></i>
                                    <span>Other Models</span>
                                </div>
                            </div>
                        </div>

                        <div class="settings-main">
                            <div class="settings-section active" id="tab-assistant">
                                <div class="section-header">
                                    <h3>Assistant Configuration</h3>
                                    <p>Configure your AI assistant settings and model preferences</p>
                                </div>

                                <div class="settings-card">
                                    <div class="card-header">
                                        <h4><i class="fas fa-user-circle"></i> Profile Settings</h4>
                                    </div>
                                    <div class="card-content">
                                        <div class="form-field">
                                            <label for="oi-profile">Profile</label>
                                            <div class="input-wrapper">
                                                <select id="oi-profile">
                                                    <option value="">Select a profile...</option>
                                                </select>
                                                <div class="field-icon">
                                                    <i class="fas fa-chevron-down"></i>
                                                </div>
                                            </div>
                                            <div class="form-help" id="oi-profile-help">Loading profiles…</div>
                                        </div>
                                    </div>
                                </div>

                                <div class="settings-card">
                                    <div class="card-header">
                                        <h4><i class="fas fa-brain"></i> Model Configuration</h4>
                                    </div>
                                    <div class="card-content">
                                        <div class="form-row">
                                            <div class="form-field">
                                                <label for="llm-provider">Provider</label>
                                                <div class="input-wrapper">
                                                    <select id="llm-provider">
                                                        <option value="openai-compatible">OpenAI Compatible (LM Studio)</option>
                                                        <option value="ollama">Ollama</option>
                                                        <option value="jan">Jan</option>
                                                    </select>
                                                    <div class="field-icon">
                                                        <i class="fas fa-chevron-down"></i>
                                                    </div>
                                                </div>
                                            </div>
                                            
                                            <div class="form-field">
                                                <label for="llm-api-base">API Base URL</label>
                                                <div class="input-wrapper">
                                                    <input id="llm-api-base" type="text" placeholder="http://localhost:1234/v1" />
                                                    <div class="field-icon">
                                                        <i class="fas fa-link"></i>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                        <div class="form-field">
                                            <label for="llm-model">Model</label>
                                            <div class="input-wrapper">
                                                <select id="llm-model">
                                                    <option value="">Select a model...</option>
                                                </select>
                                                <div class="field-icon">
                                                    <i class="fas fa-chevron-down"></i>
                                                </div>
                                            </div>
                                            <div class="form-help" id="llm-model-help">Loading models…</div>
                                        </div>
                                    </div>
                                </div>

                                <div class="model-info-card" id="model-info" style="display:none;">
                                    <div class="model-info" id="model-info-content"></div>
                                </div>
                            </div>

                            <div class="settings-section" id="tab-connections">
                                <div class="section-header">
                                    <h3>Service Connections</h3>
                                    <p>Monitor and manage your service connections</p>
                                </div>

                                <div class="settings-card">
                                    <div class="card-header">
                                        <h4><i class="fas fa-server"></i> Service Status</h4>
                                    </div>
                                    <div class="card-content">
                                        <div class="service-grid" id="service-status-grid"></div>
                                    </div>
                                </div>
                            </div>

                            <div class="settings-section" id="tab-documents">
                                <div class="section-header">
                                    <h3>Document Processing</h3>
                                    <p>Configure document parsing models and pipelines</p>
                                </div>

                                <div class="settings-card">
                                    <div class="card-header">
                                        <h4><i class="fas fa-cogs"></i> Docling Pipeline</h4>
                                    </div>
                                    <div class="card-content">
                                        <div class="form-field">
                                            <label for="docling-pipeline">Processing Pipeline</label>
                                            <div class="input-wrapper">
                                                <select id="docling-pipeline">
                                                    <option value="standard">Standard (OCR)</option>
                                                    <option value="vlm">Vision-Language Model</option>
                                                    <option value="asr">Audio Transcription</option>
                                                </select>
                                                <div class="field-icon">
                                                    <i class="fas fa-chevron-down"></i>
                                                </div>
                                            </div>
                                            <div class="form-help">Choose how documents are processed. VLM provides best accuracy for complex layouts.</div>
                                        </div>

                                        <div class="form-field" id="vision-model-field" style="display: none;">
                                            <label for="docling-vision-model">Vision Model</label>
                                            <div class="input-wrapper">
                                                <select id="docling-vision-model">
                                                    <option value="">Loading models...</option>
                                                </select>
                                                <div class="field-icon">
                                                    <i class="fas fa-chevron-down"></i>
                                                </div>
                                            </div>
                                            <div class="form-help" id="vision-model-help">Select a vision model from LM Studio for document understanding</div>
                                        </div>

                                        <div class="form-field" id="lm-studio-model-field" style="display: none;">
                                            <label for="docling-lm-studio-model">LM Studio Model Name</label>
                                            <div class="input-wrapper">
                                                <input id="docling-lm-studio-model" type="text" placeholder="e.g., smoldocling-256m-preview-mlx" />
                                                <div class="field-icon">
                                                    <i class="fas fa-tag"></i>
                                                </div>
                                            </div>
                                            <div class="form-help">Exact model name as configured in LM Studio</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="../../../build/renderer/main.js"></script>
</body>
</html>
